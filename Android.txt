____________Android Guidelines_____________

1. Visual experience
Приложение должно иметь стандартный визуальный дизайн Android и иметь единообразные шаблоны взаимодействия 

1.1. Навигация
>Стандартная кнопка "Назад" (никаких подсказок на экране "Кнопка назад")
>Приложение поддерживает "сенсорное нажатие" (навигацию) для возврата / перехода на главный экран
>Корректное сохранение и восстановление
>Предотвращение случайной потери данных при "сворачивании" 
>После "сворачивания" приложение восстанавливает сохраненное состояние
Например: изменения редактируемых полей, ход игры, меню, видео и другие разделы приложения или игры.
>Когда приложение возобновляется с помощью переключателя приложений "Последние", приложение возвращает пользователя в точное состояние, в котором оно использовалось в последний раз.
>Когда приложение возобновляется после выхода устройства из спящего (заблокированного) состояния, приложение возвращает пользователя в точное состояние, в котором оно использовалось в последний раз.
>Когда приложение перезапускается, оно должно выполнить одно из следующих действий, в зависимости от того, сколько времени прошло с момента его последнего использования:
>Если приложение в последний раз использовалось некоторое время назад (минуты), восстановите состояние приложения как можно ближе к его предыдущему состоянию.
>Если с момента последнего использования приложения прошло больше времени, попробуйте восстановить приложение как можно ближе к его предыдущему состоянию; или запуст

1.2 Уведомления
>Уведомления не используются для перекрестной рекламы или рекламы другого продукта, так как это строго запрещено Игровым магазином.
>Каналы уведомлений определяются в соответствии с лучшими практиками, а не для обслуживания всех уведомлений с одного канала.
>Выбор правильного приоритета уведомления.
>Несколько уведомлений по возможности объединяются в одну группу уведомлений.
>При необходимости установите тайм-ауты для уведомлений.
>Уведомления являются постоянными только в том случае, если они связаны с текущими событиями, такими как воспроизведение музыки или телефонный звонок.



2. Functionality

3. Perfomance and stability

4.Privacy & security

5.Google play

6.Setting up a test environment

7.Test procedures

====================================================================================================================================


UI и графика
Приложение поддерживает как альбомную, так и портретную ориентацию (если возможно), а также складывание / разворачивание. 
Ориентации раскрывают в основном одни и те же функции и действия и сохраняют функциональную паритетность. Допускаются незначительные изменения в содержании или просмотрах. 
Приложение использует весь экран в обеих ориентациях и не использует почтовый ящик для учета изменений ориентации, включая складывание и разворачивание. 
Допускается незначительный почтовый ящик для компенсации небольших отклонений в геометрии экрана. 
Приложение правильно обрабатывает быстрые переходы между ориентациями дисплея и сворачиванием / разворачиванием устройства без проблем с рендерингом или потери состояния. 

Визуальное качество 
Приложение отображает графику, текст, изображения и другие элементы пользовательского интерфейса без заметных искажений, размытия или пикселизации. 
По возможности приложение должно использовать векторные чертежи . 
Приложение обеспечивает высококачественную графику для всех целевых размеров экрана и форм-факторов. 
На краях меню, кнопок и других элементов пользовательского интерфейса не видно сглаживания. 
Приложение отображает текст и текстовые блоки приемлемым образом для каждого из поддерживаемых приложений языков. 
Композиция приемлема во всех поддерживаемых форм-факторах. 
Обрезанные буквы или слова не видны. 
Никаких неправильных переносов слов внутри кнопок или значков не видно. 
Между текстом и окружающими элементами достаточно места. 
Содержимое приложения и все веб-содержимое, на которое ссылается приложение, поддерживают темную тему . 

Доступность 
Сенсорные мишени должны быть размером не менее 48dp. Узнать больше . 
Текст приложения и контент переднего плана должны поддерживать достаточно высокий коэффициент цветового контраста с фоном: 
3,0: 1 для крупного текста / графики 
4,5: 1 для мелкого текста (текст меньше 18 пунктов, или если текст жирный и меньше 14 пунктов) 


++++ Функциональность ++++

Аудио 

Звук возобновляется, когда приложение возвращается на передний план, или указывает пользователю, что воспроизведение находится в приостановленном состоянии. 
Если воспроизведение звука является основной функцией, приложение должно поддерживать фоновое воспроизведение . 
Когда пользователь инициирует воспроизведение звука, приложение должно выполнить одно из следующих действий в течение одной секунды: 
Начните воспроизведение аудио. 
Обеспечьте визуальный индикатор того, что аудиоданные готовятся. 
Приложение должно запрашивать фокусировку звука, когда начинается воспроизведение звука, и отказываться от фокусировки звука при остановке воспроизведения. 
Приложение должно обрабатывать запросы других приложений на аудиофокус . Например, приложение может уменьшить громкость воспроизведения, когда другое приложение воспроизводит речь. 

СМИ 
Если приложение воспроизводит звук в фоновом режиме, оно должно создать уведомление в стиле MediaStyle . 
Если приложение воспроизводит видео, оно должно поддерживать воспроизведение картинки в картинке . 
Если приложение кодирует видео, оно должно делать это с использованием стандарта сжатия видео HEVC. 

Совместное использование 
При публикации контента приложение должно использовать общий лист Android . Он может предлагать цели, недоступные для пользовательских решений. 

Фоновая служба 
Приложение избегает запуска излишне долгих служб в фоновом режиме. Чтобы обеспечить бесперебойную работу устройства пользователя, система применяет различные ограничения на фоновые службы . Это не считается хорошим использованием фоновых служб: 
Поддержание сетевого подключения для уведомлений 
Поддержание соединения Bluetooth 
Сохранение включенного GPS 
Узнайте, как выбрать подходящее решение для вашей работы . 

++++Производительность и стабильность ++++

Стабильность 
Приложение не врезаться или блокировать поток пользовательского интерфейса вызывает ANR (Android не отвечает») ошибки. Воспользуйтесь отчетом Google Play перед запуском, чтобы выявить потенциальные проблемы со стабильностью. После развертывания обратите внимание на страницу Android Vitals в консоли разработчика Google Play. 

Представление 
Приложение загружается быстро или предоставляет пользователю обратную связь на экране (индикатор выполнения или аналогичный сигнал), если приложение загружается дольше двух секунд. 
Приложения должны отображать кадры каждые 16 мс, чтобы достичь 60 кадров в секунду. Разработчики могут использовать опцию рендеринга HWUI профиля при тестировании. Если есть проблемы, доступны инструменты, которые помогут диагностировать медленный рендеринг . 
При включенном StrictMode (см. Тестирование StrictMode ниже) красные вспышки (предупреждения о производительности от StrictMode) не отображаются при тестировании приложения. Любые красные вспышки указывают на плохое поведение в отношении хранилища, доступа к сети или утечек памяти. 

SDK 
Приложение работает на последней общедоступной версии платформы Android без сбоев и серьезного воздействия на основные функции. 
Приложение предназначено для последней версии Android SDK, необходимой для соответствия требованиям Google Play, путем установки targetSdkзначения. 
Приложение создано с использованием последней версии Android SDK, задав compileSdkзначение. 
Все используемые SDK Google или сторонних производителей являются актуальными . Любые улучшения этих SDK, такие как стабильность, совместимость или безопасность, должны быть доступны пользователям своевременно. 
Для SDK Google рассмотрите возможность использования SDK на базе сервисов Google Play , если они доступны. Эти SDK обратно совместимы, получают автоматические обновления, уменьшают размер пакета вашего приложения и эффективно используют ресурсы устройства. 
Разработчик несет ответственность за всю кодовую базу приложения, включая любые сторонние SDK, которые используются. 
Приложение не использует интерфейсы, отличные от SDK . 
В производственное приложение не включены библиотеки отладки. Это может вызвать проблемы с производительностью и безопасностью. 

Аккумулятор 
Приложение правильно поддерживает функции управления питанием, представленные в Android 6.0 (Doze и App Standby). В случае, если основные функции нарушены из-за управления питанием, только соответствующие приложения могут запросить исключение. См. Раздел Поддержка других вариантов использования в Doze и App Standby. 
Во время разработки разработчики могут тестировать поведение приложения в режиме ожидания и дремоты с помощью этих команд ADB . 
Что касается использования батареи, разработчики могут использовать профилировщик энергии Android Studio или инструмент Battery Historian в сочетании с запланированной фоновой работой для диагностики непредвиденного использования батареи. 

++++Конфиденциальность и безопасность ++++

Разрешения 
Приложение запрашивает только абсолютное минимальное количество разрешений, необходимых для поддержки рассматриваемого варианта использования. Для некоторых разрешений, таких как местоположение, по возможности используйте грубое местоположение вместо точного. 
Приложение запрашивает разрешение на доступ к конфиденциальным данным (например, SMS, журналу вызовов или местоположению ) или платным сервисам (например, Dialer или SMS) только в том случае, если оно напрямую связано с основными вариантами использования приложений. Последствия, связанные с этими разрешениями, должны быть хорошо известны пользователю. 
В зависимости от того, как вы используете разрешения, может быть альтернативный способ выполнить сценарий использования вашего приложения, не полагаясь на доступ к конфиденциальной информации. Например, вместо запроса разрешений, связанных с контактами пользователя, может быть более подходящим запросить доступ, используя неявное намерение . 
Приложение запрашивает разрешения времени выполнения в контексте, когда запрашивается функциональность, а не заранее во время запуска приложения. 
Приложение четко сообщает, почему необходимы определенные разрешения, или следуйте рекомендуемой схеме, чтобы объяснить, почему ему необходимо разрешение . 
Приложение должно постепенно ухудшаться, когда пользователи отказывают или отзывают разрешение. Приложение не должно полностью препятствовать доступу пользователя к приложению. 

Дата файлы 
Все конфиденциальные данные хранятся во внутренней памяти приложения . 
Никакие личные или конфиденциальные данные пользователя не регистрируются в системном журнале или журнале конкретного приложения. 
Приложение не использует не сбрасываемые аппаратные идентификаторы , такие как IMEI, для идентификации. 

Личность 
Приложение предоставляет подсказки для автозаполнения учетных данных и другой конфиденциальной информации, такой как данные кредитной карты, физический адрес и номер телефона. 
Интегрируйте One Tap для Android для беспрепятственного входа в систему. 
Приложение поддерживает биометрическую аутентификацию для защиты финансовых транзакций или конфиденциальной информации, например важных пользовательских документов. 

Компоненты приложения 
Приложение android:exportedявно устанавливает атрибут для всех действий , служб , приемников широковещательной передачи и особенно поставщиков контента . 
Только компоненты приложения , которые обмениваются данными с другими приложениями , или компонентов , которые должны быть вызваны другими приложениями , которые экспортируются . 
Все намерения и трансляции соответствуют лучшим практикам: 
Используйте явные намерения, если целевое приложение четко определено. 
Используйте намерения, чтобы отложить разрешения для другого приложения, у которого уже есть разрешение. 
Безопасный обмен данными между приложениями . 
Намерения, содержащие полезную нагрузку, проверяются перед использованием . 
Если вам нужно передать намерение другому приложению, чтобы принимающее приложение могло вызывать и ожидать обратного вызова в вызывающем приложении, не включайте вложенное намерение в дополнительные функции. Используйте PendingIntent. 
При настройке PendingIntents явно установите неизменяемый флаг , если это применимо. 
Все компоненты, обмениваться контентом между вашими приложениями использовать android:protectionLevel="signature"для пользовательских разрешений . Сюда входят действия , услуги , приемники вещания и особенно поставщики контента . 
Приложения не должны полагаться на доступ к списку установленных пакетов. Доступ был ограничен начиная с Android 11. 

Сети 
Весь сетевой трафик отправляется через SSL . 
Приложение объявляет конфигурацию сетевой безопасности . 
Если приложение использует сервисы Google Play, провайдер безопасности инициализируется при запуске приложения . 

WebViews 
Не используйте setAllowUniversalAccessFromFileURLs () для доступа к локальному контенту. Вместо этого используйте WebViewAssetLoader . 
WebView не должны использовать addJavaScriptInterface () с ненадежным контентом. 
На Android 6.0 и более поздних версиях используйте вместо этого каналы сообщений HTML . 

Исполнение 
Приложение не загружает динамически код извне APK. Разработчикам следует использовать пакеты Android App Bundle , которые включают доставку функций Play и доставку активов Play . 
С августа 2021 года использование наборов Android App Bundle станет обязательным для всех новых приложений в магазине Google Play. 

Криптография 
В приложении используются надежные криптографические алгоритмы, предоставляемые платформой, и генератор случайных чисел . Кроме того, в приложении не реализованы пользовательские алгоритмы. 

++++Гугл игры++++ 

Политики 
Приложение строго соблюдает условия Политики в отношении содержания для разработчиков Google Play и не предлагает неприемлемый контент, не использует интеллектуальную собственность или бренд других лиц и т. Д. 
Уровень зрелости приложения устанавливается соответствующим образом в соответствии с Руководством по оценке контента . 

Страница сведений о приложении 
Графическое изображение функции приложения соответствует рекомендациям, изложенным в этой статье поддержки . Убедись в том, что: 
Список приложений включает в себя качественную графику. 
Графическое изображение функции не содержит изображений устройств, снимков экрана или небольшого текста, который будет неразборчивым при уменьшении и отображении на экране наименьшего размера, на который нацелено ваше приложение. 
Графическое изображение не похоже на рекламу. 
Скриншоты и видео приложения не отображают и не ссылаются на устройства, отличные от Android. 
Скриншоты или видео приложения не представляют содержание и возможности вашего приложения вводящим в заблуждение образом. 

Поддержка пользователей 
Распространенные ошибки, о которых сообщают пользователи, на вкладке "Обзоры" на странице Google Play устраняются, если они воспроизводимы и возникают на многих различных устройствах. Если ошибка возникает только на нескольких устройствах, вы все равно должны устранить ее, если эти устройства особенно популярны или новы. 

++++Настройка тестовой среды++++  

С целью настройки тестовой среды для этого контрольного списка мы рекомендуем следующее: 
Сосредоточен на тестировании эмулятора - Android Emulator - отличный способ протестировать ваше приложение в различных версиях Android и разрешениях экрана. Вам следует настроить эмулируемые устройства (AVD) для представления наиболее распространенных форм-факторов и комбинаций аппаратного и программного обеспечения для вашей целевой пользовательской базы. Помимо тестирования телефонов, мы также рекомендуем вам протестировать другие форм-факторы, используя как минимум следующие эмуляторы : 
Складные - 7,6 ”складывающиеся с внешним дисплеем (это указано в разделе« Телефоны »в AVD Manager). 
Планшет - Pixel C 9,94 дюйма (2560 x 1800 пикселей). 
Для тестирования уведомлений мобильного приложения соедините мобильное устройство / эмулятор с эмулятором Wear OS - Wear OS Round 1.84 ». 
Аппаратные устройства - ваша тестовая среда должна включать небольшое количество реальных аппаратных устройств, которые представляют ключевые форм-факторы и комбинации аппаратного / программного обеспечения, которые в настоящее время доступны потребителям. Нет необходимости тестировать все устройства, представленные на рынке - скорее, вам следует сосредоточиться на небольшом количестве типичных устройств, даже используя одно или два устройства в каждом форм-факторе. 
Лаборатории тестирования устройств. Вы также можете использовать сторонние службы, такие как Firebase Test Lab , для тестирования своего приложения на более широком спектре устройств. 
Тестируйте с последней версией Android. Помимо тестирования репрезентативных версий Android для целевой пользовательской базы, вы всегда должны тестировать последнюю версию Android (в настоящее время Android 11). Это гарантирует, что последние изменения в поведении не повлияют отрицательно на взаимодействие с пользователем. 
Для получения более подробных рекомендаций по тестированию, включая модульное тестирование, интеграционное тестирование и тестирование пользовательского интерфейса, ознакомьтесь с основами тестирования Android . 

++++Процедуры тестирования ++++ 

Основной люкс 
Перейдите ко всем частям приложения - всем экранам, диалоговым окнам, настройкам и всем пользовательским потокам. 
Если приложение позволяет редактировать или создавать контент, играть в игры или воспроизводить мультимедиа, обязательно протестируйте эти потоки. 
При тестировании приложения вводите прерывания от других приложений, например получение уведомления или телефонного звонка; и применить временные изменения к атрибутам устройства, таким как подключение к сети, функция батареи, доступность GPS и нагрузка на систему. 
Введите и протестируйте все потоки покупок в приложении 
На каждом экране приложения нажмите на устройстве клавишу «Домой» или проведите пальцем вверх при навигации с помощью жестов, а затем повторно запустите приложение с экрана «Все приложения». 
На экране каждого приложения переключитесь на другое работающее приложение, а затем вернитесь к тестируемому приложению с помощью переключателя приложений «Недавние». 
На каждом экране приложения (и диалоговых окнах) нажмите кнопку «Назад» или воспользуйтесь жестом смахивания назад. 
На каждом экране приложения поверните устройство между альбомной и книжной ориентацией и сложите / разверните не менее трех раз. 
Переключитесь на другое приложение, чтобы отправить тестовое приложение в фоновый режим. Перейдите в Настройки и проверьте, есть ли в тестовом приложении какие-либо службы, работающие в фоновом режиме. В Android 4.0 и выше перейдите на экран приложений и найдите приложение на вкладке «Запуск». 
Нажмите кнопку питания, чтобы перевести устройство в спящий режим, затем нажмите кнопку питания еще раз, чтобы вывести экран из спящего режима. 
Настройте блокировку экрана на устройстве. Нажмите кнопку питания, чтобы перевести устройство в спящий режим (который блокирует устройство). Затем снова нажмите кнопку питания, чтобы вывести экран из спящего режима и разблокировать устройство. 
Запускайте и наблюдайте в ящике уведомлений все типы уведомлений, которые может отображать приложение. Разверните уведомления, где это возможно (Android 4.1 и выше), и коснитесь всех доступных действий. 
Ознакомьтесь с разделом «Поддержка», чтобы узнать о других вариантах использования Doze и App Standby. 

Установить на SD-карту 
Повторите Core Suite с приложением, установленным на SD-карту устройства (если приложение поддерживает этот метод установки). 
Чтобы переместить приложение на SD-карту, вы можете использовать «Настройки»> «Информация о приложении»> «Переместить на SD-карту». 

Производительность и стабильность 
Просмотрите файл манифеста Android и конфигурацию сборки, чтобы убедиться, что приложение создано на основе последнего доступного SDK ( targetSdkи compileSdk). 
Проверьте файл на наличие устаревших зависимостей.build.gradle 
Используйте инструмент Android Studio lint для обнаружения использования интерфейса, отличного от SDK. Существуют и другие альтернативные методы тестирования . 
 

Мониторинг производительности 
Повторите Core Suite с включенным профилированием StrictMode . 
Обратите пристальное внимание на сборку мусора и ее влияние на взаимодействие с пользователем. 
 
Аккумулятор 
Повторите Core Suite в циклах Doze и App Standby. 
Обратите особое внимание на будильники, таймеры, уведомления, синхронизацию и т. Д. Требования и рекомендации см. В разделе « Тестирование с Doze и режим ожидания приложения» . 

Безопасность 
Просмотрите все данные, хранящиеся во внешнем хранилище. 
Просмотрите, как обрабатываются и обрабатываются данные, загруженные из внешнего хранилища. 
Просмотрите всех поставщиков содержимого, определенных в файле манифеста Android. Убедитесь, что у каждого провайдера есть соответствующий protectionLevel. 
Просмотрите все разрешения, которые требуются вашему приложению, в файле манифеста, во время выполнения и на экране настроек приложения (Настройки> Информация о приложении) на устройстве. 
Проверьте все компоненты приложения, определенные в файле манифеста Android, на предмет соответствующего состояния экспорта. Экспортируемое свойство должно быть явно установлено для всех компонентов. 
Просмотрите конфигурацию сетевой безопасности приложения, чтобы убедиться , что никакие проверки конфигурации не завершились ошибкой. 
Для каждого WebView перейдите на страницу, для которой требуется JavaScript. 
В каждом WebView попытайтесь перейти к сайтам и контенту, которые не загружаются непосредственно вашим приложением. 
Объявите конфигурацию сетевой безопасности, которая отключает трафик открытого текста , а затем протестируйте приложение. 
Запустите приложение и проверьте все основные функции, наблюдая за журналом устройства . Никакая личная информация пользователя не должна регистрироваться. 

Гугл игры 
Войдите в консоль разработчика Google Play, чтобы просмотреть свой профиль разработчика, описание приложения, снимки экрана, изображения функций, рейтинг контента и отзывы пользователей. 
Загрузите графическое изображение и снимки экрана и уменьшите их, чтобы они соответствовали размерам дисплеев на устройствах и форм-факторам, на которые вы ориентируетесь. 
Просмотрите все графические ресурсы, мультимедиа, текст, библиотеки кода и другой контент, который упакован в приложение или загрузку файла расширения. 

 
